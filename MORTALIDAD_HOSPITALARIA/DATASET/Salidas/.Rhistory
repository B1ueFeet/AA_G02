#limpieza de datos
rm(list = ls())
library(foreign)
install.packages("rstudioapi")
editor <- rstudioapi::getSourceEditorContext()
ruta_dir <- dirname(editor$path)
print(ruta_dir)
#Cargas de datos al directorio
setwd(file.path(ruta_dir,"/DATASET"))
#Crear una variable
spssPoblacion <- "inec_defuncionesgenerales_2020.csv"
provincia <- 10
install.packages("rstudioapi")
#crear un directorio de salidas
salida <- "Salidas/poblacion.csv"
#Variable a consideracion
variables <- c("prov_insc","cant_insc","parr_insc","nac_fall",
"sexo","fecha_nac", "fecha_fall", "edad",
"etnia", "lugar_ocur", "mor_viol", "autopsia",
"causa")
spss <- read.spss(spssPoblacion, use.value.labels = FALSE, to.data.frame = TRUE)
library(foreign)
spss <- read.spss(spssPoblacion, use.value.labels = FALSE, to.data.frame = TRUE)
spss <- read.csv2(spssPoblacion, header = TRUE, sep = ";")
names(spss) <- tolower(names(spss))
View(spss)
spss_poblacion <- spss[spss$i01 == provincia, variables]
View(spss_poblacion)
spss_poblacion <- spss[spss$i02 == provincia, variables]
spss_poblacion <- spss[spss$i02 == provincia, variables]
View(spss_poblacion)
View(spss_poblacion)
View(spss)
spss_poblacion <- spss[spss$i02 == provincia, variables]
spss_poblacion <- spss[spss$i01 == provincia, variables]
editor <- rstudioapi::getSourceEditorContext()
ruta_dir <- dirname(editor$path)
print(ruta_dir)
setwd(file.path(ruta_dir,"/DATASET"))
#Crear una variable
spssPoblacion <- "inec_defuncionesgenerales_2020.csv"
provincia <- 'Guayas'
#crear un directorio de salidas
salida <- "Salidas/poblacion.csv"
#Variable a consideracion
variables <- c("prov_insc","cant_insc","parr_insc","nac_fall",
"sexo","fecha_nac", "fecha_fall", "edad",
"etnia", "lugar_ocur", "mor_viol", "autopsia",
"causa")
spss <- read.csv2(spssPoblacion, header = TRUE, sep = ";")
names(spss) <- tolower(names(spss))
spss_poblacion <- spss[spss$i01 == provincia, variables]
spss_poblacion <- spss[spss$i02 == provincia, variables]
spss_poblacion <- spss[spss$i00 == provincia, variables]
spss_poblacion <- spss[spss$prov_insc == provincia, variables]
write.csv2(spss_poblacion, salida, row.names = FALSE)
View(spss_poblacion)
View(spss)
write.csv2(spss_poblacion, salida, row.names = FALSE)
file.path(Sys.getenv("HOME"), ".Rprofile")
file.edit(file.path(file.path(Sys.getenv("HOME"), ".Rprofile"))
file.edit(file.path(file.path(Sys.getenv("HOME"), ".Rprofile")))
options(encoding = "utf-8")
#****************************** SELECCION DE VARIABLES ****************************
#limpieza de datos
rm(list = ls())
install.packages("rstudioapi")
install.packages("rstudioapi")
library(foreign)
editor <- rstudioapi::getSourceEditorContext()
ruta_dir <- dirname(editor$path)
print(ruta_dir)
print(ruta_dir)
#Cargas de datos al directorio
setwd(file.path(ruta_dir,"/DATASET"))
#Crear una variable
spssPoblacion <- "inec_defuncionesgenerales_2020.csv"
provincia <- 'Guayas'
#crear un directorio de salidas
salida <- "Salidas/poblacion.csv"
#Variable a consideracion
variables <- c("prov_insc","cant_insc","parr_insc","nac_fall",
"sexo","fecha_nac", "fecha_fall", "edad",
"etnia", "lugar_ocur", "mor_viol", "autopsia",
"causa")
spss <- read.csv2(spssPoblacion, header = TRUE, sep = ";")
names(spss) <- tolower(names(spss))
#Filtrado - sbudataset
spss_poblacion <- spss[spss$prov_insc == provincia, variables]
write.csv2(spss_poblacion, salida, row.names = FALSE)
View(spss_poblacion)
spss <- read.csv2(spssPoblacion, header = TRUE, sep = ";")
names(spss) <- tolower(names(spss))
#Filtrado - sbudataset
spss_poblacion <- spss[spss$prov_insc == provincia, variables]
write.csv2(spss_poblacion, salida, row.names = FALSE)
View(spss_poblacion)
View(spss)
library(foreign)
editor <- rstudioapi::getSourceEditorContext()
ruta_dir <- dirname(editor$path)
print(ruta_dir)
#Cargas de datos al directorio
setwd(file.path(ruta_dir,"/DATASET"))
#Crear una variable
spssPoblacion <- "inec_defuncionesgenerales_2020.csv"
provincia <- 'Guayas'
#crear un directorio de salidas
salida <- "Salidas/poblacion.csv"
#Variable a consideracion
variables <- c("prov_insc","cant_insc","parr_insc","nac_fall",
"sexo","fecha_nac", "fecha_fall", "edad",
"etnia", "lugar_ocur", "mor_viol", "autopsia",
"causa")
spss <- read.csv2(spssPoblacion, header = TRUE, sep = ";")
names(spss) <- tolower(names(spss))
#Filtrado - sbudataset
spss_poblacion <- spss[spss$prov_insc == provincia, variables]
View(spss)
spss <- read.csv2(spssPoblacion, header = TRUE, sep = ";")
View(spss)
#Filtrado - sbudataset
spss_poblacion <- spss[spss$prov_insc == provincia, variables]
write.csv2(spss_poblacion, salida, row.names = FALSE)
View(spss_poblacion)
#****************************** MANEJO DE VALORES AUSENTES ****************************
install.packages("caTools")
install.packages("foreing")
install.packages("miscFuncs")
library(caTools)
library(foreing)
install.packages("foreing")
install.packages("miscFuncs")
library(caTools)
library(foreing)
library(miscFuns)
rm(list = ls())
editor <- rstudioapi::getSourceEditorContext()
ruta_dir <- dirname(editor$path)
print(ruta_dir)
#Cargas de datos al directorio
setwd(file.path(ruta_dir,"/DATASET/Salidas"))
csvFileName <- "poblacion.csv"
poblacion <- read.csv2(csvFileName, header = TRUE, sep = ";")
variables <- c("prov_insc","cant_insc","parr_insc","nac_fall",
"sexo","fecha_nac", "fecha_fall", "edad",
"etnia", "lugar_ocur", "mor_viol", "autopsia",
"causa")
dataset <- poblacion[,variables]
#valores ausentes
colSums(is.na(dataset))
#eliminar valores ausentes
dataset <- subset(dataset, nac_fall == 2)
#valores ausentes
colSums(is.na(dataset))
dataset <- poblacion[,variables]
#valores ausentes
colSums(is.na(dataset))
#eliminar valores ausentes
colSums(is.na(dataset))
#eliminar valores ausentes
dataset$autopsia <- NULL
#valores ausentes
colSums(is.na(dataset))
row.has.na <- apply(dataset, 1, function(x){
any(is.na(x))
})
dataset <- dataset[!row.has.na,]
#valores ausentes
colSums(is.na(dataset))
write.csv2(dataset, file = "mortalidad-Hospitalaria-Gye.csv", row.names = FALSE)
rm(list=ls())
install.packages("dummies")
library(kohonen)
library(dummy)
library(tictoc)
library(ggplot2)
install.packages('kohonen')
install.packages("tictoc")
install.packages("ggplot2")
library(kohonen)
library(dummy)
install.packages("dummies")
install.packages("dummy")
library(dummy)
library(tictoc)
library(ggplot2)
editor <- rstudioapi::getSourceEditorContext()
ruta_dir <- dirname(editor$path)
print(ruta_dir)
#Cargas de datos al directorio
setwd(file.path(ruta_dir,"/DATASET/Salidas"))
dataset_total <- read.csv2(file="mortalidad-hospitalaria-gye.csv")
datset_original <- dataset_total
colSums(is.na(dataset_total))
dataset_total$prov_insc<-factor(dataset_total$prov_insc)
dataset_total$cant_insc<-factor(dataset_total$cant_insc)
dataset_total$parr_insc<-factor(dataset_total$parr_insc)
dataset_total$nac_fall<-factor(dataset_total$nac_fall)
dataset_total$sexo<-factor(dataset_total$sexo)
dataset_total$fecha_nac<-factor(dataset_total$fecha_nac)
dataset_total$fecha_fall<-factor(dataset_total$fecha_fall)
dataset_total$edad<-factor(dataset_total$edad)
dataset_total$etnia<-factor(dataset_total$etnia)
dataset_total$lugar_ocur<-factor(dataset_total$lugar_ocur)
dataset_total$mor_viol<-factor(dataset_total$mor_viol)
dataset_total$causa<-factor(dataset_total$causa)
variables <- c(6:20)
dataset<- dataset_total[,variables]
View(dataset_total)
dataset$mor_viol <- NULL
